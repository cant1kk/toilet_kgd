const { override, addWebpackPlugin } = require('customize-cra');\nconst { BundleAnalyzerPlugin } = require('webpack-bundle-analyzer');\n\nmodule.exports = override(\n  config => {\n    // Оптимизация производительности\n    config.optimization.splitChunks = {\n      chunks: 'all',\n      cacheGroups: {\n        vendor: {\n          test: /[\\\\/]node_modules[\\\\/]/,\n          name: 'vendors',\n          chunks: 'all',\n        },\n      },\n    };\n    \n    return config;\n  },\n  \n  // Анализ бандла в режиме разработки\n  process.env.ANALYZE && addWebpackPlugin(\n    new BundleAnalyzerPlugin({\n      analyzerMode: 'server',\n      analyzerPort: 8888,\n      openAnalyzer: true,\n    })\n  )\n);