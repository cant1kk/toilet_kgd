{"ast":null,"code":"import WebApp from'@twa-dev/sdk';class TelegramService{constructor(){this.isInitialized=false;this.user=null;this.mainButtonCallback=null;this.backButtonCallback=null;}init(){if(typeof window!=='undefined'&&!this.isInitialized){try{var _window$Telegram;// Проверяем, что мы в Telegram WebApp\nif(!((_window$Telegram=window.Telegram)!==null&&_window$Telegram!==void 0&&_window$Telegram.WebApp)){console.warn('Not in Telegram WebApp environment');return;}WebApp.ready();WebApp.expand();// Включаем подтверждение закрытия\nif(WebApp.enableClosingConfirmation){WebApp.enableClosingConfirmation();}// Устанавливаем тему\nif(WebApp.colorScheme){document.documentElement.setAttribute('data-theme',WebApp.colorScheme);}// Применяем цветовую схему Telegram\nthis.applyTelegramTheme();// Получаем данные пользователя\nif(WebApp.initDataUnsafe.user){this.user=WebApp.initDataUnsafe.user;}// Настройка кнопки \"Назад\"\nif(WebApp.BackButton&&WebApp.BackButton.onClick){WebApp.BackButton.onClick(()=>{if(this.backButtonCallback){this.backButtonCallback();}else{window.history.back();}});}// Настройка главной кнопки\nif(WebApp.MainButton&&WebApp.MainButton.setParams){var _WebApp$themeParams;WebApp.MainButton.setParams({text:'Закрыть',color:((_WebApp$themeParams=WebApp.themeParams)===null||_WebApp$themeParams===void 0?void 0:_WebApp$themeParams.button_color)||'#007bff'});}if(WebApp.MainButton&&WebApp.MainButton.onClick){WebApp.MainButton.onClick(()=>{if(this.mainButtonCallback){this.mainButtonCallback();}else{if(WebApp.close)WebApp.close();}});}// Адаптируем viewport для Telegram\nthis.adaptViewport();this.isInitialized=true;console.log('Telegram WebApp initialized successfully');}catch(error){console.error('Failed to initialize Telegram WebApp:',error);}}}applyTelegramTheme(){if(!this.isInitialized||!WebApp.themeParams)return;const themeParams=WebApp.themeParams;const root=document.documentElement;// Применяем цвета из Telegram\nif(themeParams.bg_color){root.style.setProperty('--tg-bg-color',themeParams.bg_color);document.body.style.backgroundColor=themeParams.bg_color;}if(themeParams.text_color){root.style.setProperty('--tg-text-color',themeParams.text_color);document.body.style.color=themeParams.text_color;}if(themeParams.hint_color){root.style.setProperty('--tg-hint-color',themeParams.hint_color);}if(themeParams.button_color){root.style.setProperty('--tg-button-color',themeParams.button_color);}if(themeParams.button_text_color){root.style.setProperty('--tg-button-text-color',themeParams.button_text_color);}// Устанавливаем data-theme атрибут для CSS\nconst colorScheme=WebApp.colorScheme||'light';root.setAttribute('data-theme',colorScheme);if(colorScheme==='dark'){root.classList.add('dark-theme');}else{root.classList.remove('dark-theme');}}adaptViewport(){if(!this.isInitialized)return;// Адаптация для мобильных устройств в Telegram\ndocument.body.style.margin='0';document.body.style.padding='0';document.body.style.height='100vh';document.body.style.overflow='hidden';document.body.style.position='fixed';document.body.style.top='0';document.body.style.left='0';document.body.style.right='0';document.body.style.bottom='0';// Обрабатываем изменение viewport\nif(WebApp.onEvent){WebApp.onEvent('viewportChanged',()=>{const height=WebApp.viewportHeight;document.documentElement.style.setProperty('--tg-viewport-height',\"\".concat(height,\"px\"));});}}getUser(){return this.user;}isTelegramApp(){var _window$Telegram2;return typeof window!=='undefined'&&((_window$Telegram2=window.Telegram)===null||_window$Telegram2===void 0?void 0:_window$Telegram2.WebApp)!==undefined;}// Управление главной кнопкой\nshowMainButton(){if(this.isInitialized&&WebApp.MainButton&&WebApp.MainButton.show){WebApp.MainButton.show();}}hideMainButton(){if(this.isInitialized&&WebApp.MainButton&&WebApp.MainButton.hide){WebApp.MainButton.hide();}}setMainButtonParams(params){if(this.isInitialized&&WebApp.MainButton&&WebApp.MainButton.setParams){WebApp.MainButton.setParams(params);}}setMainButtonCallback(callback){this.mainButtonCallback=callback;}clearMainButtonCallback(){this.mainButtonCallback=null;}// Управление кнопккой \"Назад\"\nshowBackButton(){if(this.isInitialized&&WebApp.BackButton&&WebApp.BackButton.show){WebApp.BackButton.show();}}hideBackButton(){if(this.isInitialized&&WebApp.BackButton&&WebApp.BackButton.hide){WebApp.BackButton.hide();}}setBackButtonCallback(callback){this.backButtonCallback=callback;}clearBackButtonCallback(){this.backButtonCallback=null;}// Всплывающие окна\nshowAlert(message){if(this.isInitialized&&this.isTelegramApp()&&WebApp.showAlert){try{WebApp.showAlert(message);}catch(error){console.warn('WebApp.showAlert not supported, fallback to alert:',error);alert(message);}}else{alert(message);}}showConfirm(message,callback){if(this.isInitialized&&this.isTelegramApp()&&WebApp.showConfirm){try{WebApp.showConfirm(message,callback);}catch(error){console.warn('WebApp.showConfirm not supported, fallback to confirm:',error);const confirmed=window.confirm(message);if(callback)callback(confirmed);}}else{const confirmed=window.confirm(message);if(callback)callback(confirmed);}}// Открытие ссылок\nopenLink(url){if(this.isInitialized&&WebApp.openLink){WebApp.openLink(url);}else{window.open(url,'_blank');}}openTelegramLink(url){if(this.isInitialized&&WebApp.openTelegramLink){WebApp.openTelegramLink(url);}else{window.open(url,'_blank');}}// Управление приложением\nclose(){if(this.isInitialized&&WebApp.close){WebApp.close();}}ready(){if(this.isInitialized&&WebApp.ready){WebApp.ready();}}expand(){if(this.isInitialized&&WebApp.expand){WebApp.expand();}}// Тема и оформление\ngetThemeParams(){if(this.isInitialized){return WebApp.themeParams;}return{};}getColorScheme(){if(this.isInitialized){return WebApp.colorScheme;}return'light';}getViewportHeight(){if(this.isInitialized){return WebApp.viewportHeight;}return window.innerHeight;}// Данные и события\nsendData(data){if(this.isInitialized&&WebApp.sendData){WebApp.sendData(data);}}openInvoice(url,callback){if(this.isInitialized&&WebApp.openInvoice){WebApp.openInvoice(url,callback);}}setHeaderColor(color){if(this.isInitialized&&WebApp.setHeaderColor){WebApp.setHeaderColor(color);}}setBackgroundColor(color){if(this.isInitialized&&WebApp.setBackgroundColor){WebApp.setBackgroundColor(color);}}// Haptic feedback\nimpactOccurred(){let style=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'medium';if(this.isInitialized&&this.isTelegramApp()&&WebApp.HapticFeedback){WebApp.HapticFeedback.impactOccurred(style);}}notificationOccurred(type){if(this.isInitialized&&this.isTelegramApp()&&WebApp.HapticFeedback){WebApp.HapticFeedback.notificationOccurred(type);}}selectionChanged(){if(this.isInitialized&&this.isTelegramApp()&&WebApp.HapticFeedback){WebApp.HapticFeedback.selectionChanged();}}// Получение initData для отправки на сервер\ngetInitData(){if(this.isInitialized){return WebApp.initData;}return null;}}export const telegramService=new TelegramService();","map":{"version":3,"names":["WebApp","TelegramService","constructor","isInitialized","user","mainButtonCallback","backButtonCallback","init","window","_window$Telegram","Telegram","console","warn","ready","expand","enableClosingConfirmation","colorScheme","document","documentElement","setAttribute","applyTelegramTheme","initDataUnsafe","BackButton","onClick","history","back","MainButton","setParams","_WebApp$themeParams","text","color","themeParams","button_color","close","adaptViewport","log","error","root","bg_color","style","setProperty","body","backgroundColor","text_color","hint_color","button_text_color","classList","add","remove","margin","padding","height","overflow","position","top","left","right","bottom","onEvent","viewportHeight","concat","getUser","isTelegramApp","_window$Telegram2","undefined","showMainButton","show","hideMainButton","hide","setMainButtonParams","params","setMainButtonCallback","callback","clearMainButtonCallback","showBackButton","hideBackButton","setBackButtonCallback","clearBackButtonCallback","showAlert","message","alert","showConfirm","confirmed","confirm","openLink","url","open","openTelegramLink","getThemeParams","getColorScheme","getViewportHeight","innerHeight","sendData","data","openInvoice","setHeaderColor","setBackgroundColor","impactOccurred","arguments","length","HapticFeedback","notificationOccurred","type","selectionChanged","getInitData","initData","telegramService"],"sources":["D:/map for cur/toilet-finder-kaliningrad/frontend/src/services/telegram.ts"],"sourcesContent":["import WebApp from '@twa-dev/sdk';\n\nexport interface TelegramUser {\n  id: number;\n  first_name: string;\n  last_name?: string;\n  username?: string;\n  language_code?: string;\n  photo_url?: string;\n}\n\nexport interface TelegramInitData {\n  query_id?: string;\n  user?: TelegramUser;\n  auth_date: number;\n  hash: string;\n}\n\nclass TelegramService {\n  private isInitialized = false;\n  private user: TelegramUser | null = null;\n  private mainButtonCallback: (() => void) | null = null;\n  private backButtonCallback: (() => void) | null = null;\n\n  init() {\n    if (typeof window !== 'undefined' && !this.isInitialized) {\n      try {\n        // Проверяем, что мы в Telegram WebApp\n        if (!window.Telegram?.WebApp) {\n          console.warn('Not in Telegram WebApp environment');\n          return;\n        }\n\n        WebApp.ready();\n        WebApp.expand();\n        // Включаем подтверждение закрытия\n        if (WebApp.enableClosingConfirmation) {\n          WebApp.enableClosingConfirmation();\n        }\n        \n        // Устанавливаем тему\n        if (WebApp.colorScheme) {\n          document.documentElement.setAttribute('data-theme', WebApp.colorScheme);\n        }\n\n        // Применяем цветовую схему Telegram\n        this.applyTelegramTheme();\n\n        // Получаем данные пользователя\n        if (WebApp.initDataUnsafe.user) {\n          this.user = WebApp.initDataUnsafe.user;\n        }\n\n        // Настройка кнопки \"Назад\"\n        if (WebApp.BackButton && WebApp.BackButton.onClick) {\n          WebApp.BackButton.onClick(() => {\n            if (this.backButtonCallback) {\n              this.backButtonCallback();\n            } else {\n              window.history.back();\n            }\n          });\n        }\n\n        // Настройка главной кнопки\n        if (WebApp.MainButton && WebApp.MainButton.setParams) {\n          WebApp.MainButton.setParams({\n            text: 'Закрыть',\n            color: WebApp.themeParams?.button_color || '#007bff'\n          });\n        }\n        \n        if (WebApp.MainButton && WebApp.MainButton.onClick) {\n          WebApp.MainButton.onClick(() => {\n            if (this.mainButtonCallback) {\n              this.mainButtonCallback();\n            } else {\n              if (WebApp.close) WebApp.close();\n            }\n          });\n        }\n\n        // Адаптируем viewport для Telegram\n        this.adaptViewport();\n\n        this.isInitialized = true;\n        console.log('Telegram WebApp initialized successfully');\n      } catch (error) {\n        console.error('Failed to initialize Telegram WebApp:', error);\n      }\n    }\n  }\n\n  private applyTelegramTheme() {\n    if (!this.isInitialized || !WebApp.themeParams) return;\n\n    const themeParams = WebApp.themeParams;\n    const root = document.documentElement;\n\n    // Применяем цвета из Telegram\n    if (themeParams.bg_color) {\n      root.style.setProperty('--tg-bg-color', themeParams.bg_color);\n      document.body.style.backgroundColor = themeParams.bg_color;\n    }\n    \n    if (themeParams.text_color) {\n      root.style.setProperty('--tg-text-color', themeParams.text_color);\n      document.body.style.color = themeParams.text_color;\n    }\n    \n    if (themeParams.hint_color) {\n      root.style.setProperty('--tg-hint-color', themeParams.hint_color);\n    }\n    \n    if (themeParams.button_color) {\n      root.style.setProperty('--tg-button-color', themeParams.button_color);\n    }\n    \n    if (themeParams.button_text_color) {\n      root.style.setProperty('--tg-button-text-color', themeParams.button_text_color);\n    }\n\n    // Устанавливаем data-theme атрибут для CSS\n    const colorScheme = WebApp.colorScheme || 'light';\n    root.setAttribute('data-theme', colorScheme);\n    \n    if (colorScheme === 'dark') {\n      root.classList.add('dark-theme');\n    } else {\n      root.classList.remove('dark-theme');\n    }\n  }\n\n  private adaptViewport() {\n    if (!this.isInitialized) return;\n\n    // Адаптация для мобильных устройств в Telegram\n    document.body.style.margin = '0';\n    document.body.style.padding = '0';\n    document.body.style.height = '100vh';\n    document.body.style.overflow = 'hidden';\n    document.body.style.position = 'fixed';\n    document.body.style.top = '0';\n    document.body.style.left = '0';\n    document.body.style.right = '0';\n    document.body.style.bottom = '0';\n\n    // Обрабатываем изменение viewport\n    if (WebApp.onEvent) {\n      WebApp.onEvent('viewportChanged', () => {\n        const height = WebApp.viewportHeight;\n        document.documentElement.style.setProperty('--tg-viewport-height', `${height}px`);\n      });\n    }\n  }\n\n  getUser(): TelegramUser | null {\n    return this.user;\n  }\n\n  isTelegramApp(): boolean {\n    return typeof window !== 'undefined' && window.Telegram?.WebApp !== undefined;\n  }\n\n  // Управление главной кнопкой\n  showMainButton() {\n    if (this.isInitialized && WebApp.MainButton && WebApp.MainButton.show) {\n      WebApp.MainButton.show();\n    }\n  }\n\n  hideMainButton() {\n    if (this.isInitialized && WebApp.MainButton && WebApp.MainButton.hide) {\n      WebApp.MainButton.hide();\n    }\n  }\n\n  setMainButtonParams(params: { text?: string; color?: string }) {\n    if (this.isInitialized && WebApp.MainButton && WebApp.MainButton.setParams) {\n      WebApp.MainButton.setParams(params);\n    }\n  }\n\n  setMainButtonCallback(callback: () => void) {\n    this.mainButtonCallback = callback;\n  }\n\n  clearMainButtonCallback() {\n    this.mainButtonCallback = null;\n  }\n\n  // Управление кнопккой \"Назад\"\n  showBackButton() {\n    if (this.isInitialized && WebApp.BackButton && WebApp.BackButton.show) {\n      WebApp.BackButton.show();\n    }\n  }\n\n  hideBackButton() {\n    if (this.isInitialized && WebApp.BackButton && WebApp.BackButton.hide) {\n      WebApp.BackButton.hide();\n    }\n  }\n\n  setBackButtonCallback(callback: () => void) {\n    this.backButtonCallback = callback;\n  }\n\n  clearBackButtonCallback() {\n    this.backButtonCallback = null;\n  }\n\n  // Всплывающие окна\n  showAlert(message: string) {\n    if (this.isInitialized && this.isTelegramApp() && WebApp.showAlert) {\n      try {\n        WebApp.showAlert(message);\n      } catch (error) {\n        console.warn('WebApp.showAlert not supported, fallback to alert:', error);\n        alert(message);\n      }\n    } else {\n      alert(message);\n    }\n  }\n\n  showConfirm(message: string, callback?: (confirmed: boolean) => void) {\n    if (this.isInitialized && this.isTelegramApp() && WebApp.showConfirm) {\n      try {\n        WebApp.showConfirm(message, callback);\n      } catch (error) {\n        console.warn('WebApp.showConfirm not supported, fallback to confirm:', error);\n        const confirmed = window.confirm(message);\n        if (callback) callback(confirmed);\n      }\n    } else {\n      const confirmed = window.confirm(message);\n      if (callback) callback(confirmed);\n    }\n  }\n\n  // Открытие ссылок\n  openLink(url: string) {\n    if (this.isInitialized && WebApp.openLink) {\n      WebApp.openLink(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  }\n\n  openTelegramLink(url: string) {\n    if (this.isInitialized && WebApp.openTelegramLink) {\n      WebApp.openTelegramLink(url);\n    } else {\n      window.open(url, '_blank');\n    }\n  }\n\n  // Управление приложением\n  close() {\n    if (this.isInitialized && WebApp.close) {\n      WebApp.close();\n    }\n  }\n\n  ready() {\n    if (this.isInitialized && WebApp.ready) {\n      WebApp.ready();\n    }\n  }\n\n  expand() {\n    if (this.isInitialized && WebApp.expand) {\n      WebApp.expand();\n    }\n  }\n\n  // Тема и оформление\n  getThemeParams() {\n    if (this.isInitialized) {\n      return WebApp.themeParams;\n    }\n    return {};\n  }\n\n  getColorScheme() {\n    if (this.isInitialized) {\n      return WebApp.colorScheme;\n    }\n    return 'light';\n  }\n\n  getViewportHeight() {\n    if (this.isInitialized) {\n      return WebApp.viewportHeight;\n    }\n    return window.innerHeight;\n  }\n\n\n\n  // Данные и события\n  sendData(data: string) {\n    if (this.isInitialized && WebApp.sendData) {\n      WebApp.sendData(data);\n    }\n  }\n\n  openInvoice(url: string, callback?: (status: string) => void) {\n    if (this.isInitialized && WebApp.openInvoice) {\n      WebApp.openInvoice(url, callback);\n    }\n  }\n\n\n\n  setHeaderColor(color: `#${string}` | 'bg_color' | 'secondary_bg_color') {\n    if (this.isInitialized && WebApp.setHeaderColor) {\n      WebApp.setHeaderColor(color);\n    }\n  }\n\n  setBackgroundColor(color: `#${string}` | 'bg_color' | 'secondary_bg_color') {\n    if (this.isInitialized && WebApp.setBackgroundColor) {\n      WebApp.setBackgroundColor(color);\n    }\n  }\n\n  // Haptic feedback\n  impactOccurred(style: 'light' | 'medium' | 'heavy' = 'medium') {\n    if (this.isInitialized && this.isTelegramApp() && WebApp.HapticFeedback) {\n      WebApp.HapticFeedback.impactOccurred(style);\n    }\n  }\n\n  notificationOccurred(type: 'error' | 'success' | 'warning') {\n    if (this.isInitialized && this.isTelegramApp() && WebApp.HapticFeedback) {\n      WebApp.HapticFeedback.notificationOccurred(type);\n    }\n  }\n\n  selectionChanged() {\n    if (this.isInitialized && this.isTelegramApp() && WebApp.HapticFeedback) {\n      WebApp.HapticFeedback.selectionChanged();\n    }\n  }\n\n  // Получение initData для отправки на сервер\n  getInitData(): string | null {\n    if (this.isInitialized) {\n      return WebApp.initData;\n    }\n    return null;\n  }\n}\n\nexport const telegramService = new TelegramService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}