{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{MapPin,X,AlertTriangle}from'lucide-react';import{Button}from'./ui/button';import{telegramService}from'../services/telegram';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function GeolocationHandler(_ref){let{onLocationUpdate}=_ref;const[showPermissionPrompt,setShowPermissionPrompt]=useState(false);const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);const[hasBeenShown,setHasBeenShown]=useState(false);const handleLocationUpdate=useCallback(position=>{const{latitude,longitude}=position.coords;onLocationUpdate(latitude,longitude);// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram\nif(telegramService.isTelegramApp()){telegramService.notificationOccurred('success');}},[onLocationUpdate]);const handleLocationError=useCallback(error=>{console.warn('Geolocation error:',error);let message='–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ';switch(error.code){case error.PERMISSION_DENIED:message='–î–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.';break;case error.POSITION_UNAVAILABLE:message='–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.';break;case error.TIMEOUT:message='–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏—Å—Ç–µ–∫–ª–æ.';break;}if(telegramService.isTelegramApp()){telegramService.showAlert(message);telegramService.notificationOccurred('error');}},[]);useEffect(()=>{// –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏\nif(!navigator.geolocation){setError('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é');setShowPermissionPrompt(true);return;}// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ\nif('permissions'in navigator){navigator.permissions.query({name:'geolocation'}).then(result=>{if(result.state==='granted'){// –ï—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–∂–µ –¥–∞–Ω–æ, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –±–µ–∑ –ø–æ–∫–∞–∑–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞\nrequestLocation(false);}else if(result.state==='prompt'&&!hasBeenShown){// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ\nsetTimeout(()=>{setShowPermissionPrompt(true);setHasBeenShown(true);},1500);}}).catch(()=>{// –ï—Å–ª–∏ API permissions –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥\nif(!hasBeenShown){setTimeout(()=>{requestLocation(true);setHasBeenShown(true);},1500);}});}else{// –î–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤\nif(!hasBeenShown){setTimeout(()=>{requestLocation(true);setHasBeenShown(true);},1500);}}},[hasBeenShown]);const requestLocation=function(){let showModalOnError=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(!navigator.geolocation){setError('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é');if(showModalOnError)setShowPermissionPrompt(true);return;}setIsLoading(true);setError('');// –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤\nconst options={enableHighAccuracy:true,timeout:25000,// 25 —Å–µ–∫—É–Ω–¥ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö\nmaximumAge:300000// 5 –º–∏–Ω—É—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è\n};navigator.geolocation.getCurrentPosition(handleLocationUpdate,handleLocationError,options);};const getBrowserInstructions=()=>{const userAgent=navigator.userAgent.toLowerCase();if(userAgent.includes('chrome')&&(userAgent.includes('mobile')||userAgent.includes('android'))){return{title:'Chrome –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º',steps:['–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚ãÆ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É','–í—ã–±–µ—Ä–∏—Ç–µ \"–ù–∞—Å—Ç—Ä–æ–π–∫–∏\" ‚Üí \"–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\"','–ù–∞–∂–º–∏—Ç–µ \"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–æ–≤\" ‚Üí \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"','–í–∫–ª—é—á–∏—Ç–µ \"–î–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é\"','–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø']};}else if(userAgent.includes('chrome')){return{title:'Chrome –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ',steps:['–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ –∏–ª–∏ \"i\" —Å–ª–µ–≤–∞ –æ—Ç –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏','–í –º–µ–Ω—é \"–†–∞–∑—Ä–µ—à–µ–Ω–∏—è\" –Ω–∞–π–¥–∏—Ç–µ \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"','–í—ã–±–µ—Ä–∏—Ç–µ \"–†–∞–∑—Ä–µ—à–∏—Ç—å\"','–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É']};}else if(userAgent.includes('firefox')){return{title:'Firefox',steps:['–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ —Å–ª–µ–≤–∞ –æ—ÇÂú∞ÂùÄ–Ω–æ–π —Å—Ç—Ä–æ–∫–∏','–í —Ä–∞–∑–¥–µ–ª–µ \"–†–∞–∑—Ä–µ—à–µ–Ω–∏—è\" –Ω–∞–π–¥–∏—Ç–µ \"–î–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é\"','–ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ \"–†–∞–∑—Ä–µ—à–∏—Ç—å\"','–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É']};}else if(userAgent.includes('safari')){return{title:'Safari',steps:['–ù–∞–∂–º–∏—Ç–µ –Ω–∞ \"aA\" –∏–ª–∏ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ','–ù–∞–π–¥–∏—Ç–µ \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"','–í—ã–±–µ—Ä–∏—Ç–µ \"–†–∞–∑—Ä–µ—à–∏—Ç—å\"','–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É']};}else if(userAgent.includes('edg')){return{title:'Edge',steps:['–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ —Å–ª–µ–≤–∞ –æ—Ç –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏','–í –º–µ–Ω—é \"–†–∞–∑—Ä–µ—à–µ–Ω–∏—è\" –Ω–∞–π–¥–∏—Ç–µ \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"','–í—ã–±–µ—Ä–∏—Ç–µ \"–†–∞–∑—Ä–µ—à–∏—Ç—å\"','–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É']};}else{return{title:'–í–∞—à –±—Ä–∞—É–∑–µ—Ä',steps:['–ù–∞–π–¥–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ','–í–∫–ª—é—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏','–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É']};}};const getMobileSystemInstructions=()=>{const userAgent=navigator.userAgent.toLowerCase();if(userAgent.includes('android')){return{title:'–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Android',steps:['–û—Ç–∫—Ä–æ–π—Ç–µ \"–ù–∞—Å—Ç—Ä–æ–π–∫–∏\" ‚Üí \"–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥en—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å\"','–í—ã–±–µ—Ä–∏—Ç–µ \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\" (–∏–ª–∏ \"–î–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é\")','–í–∫–ª—é—á–∏—Ç–µ \"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"','–ù–∞–π–¥–∏—Ç–µ –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø']};}else if(userAgent.includes('iphone')||userAgent.includes('ipad')||userAgent.includes('mac')){return{title:'–ù–∞—Å—Ç—Ä–æ–π–∫–∏ iOS',steps:['–û—Ç–∫—Ä–æ–π—Ç–µ \"–ù–∞—Å—Ç—Ä–æ–π–∫–∏\" ‚Üí \"–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\"','–í—ã–±–µ—Ä–∏—Ç–µ \"–°–ª—É–∂–±—ã –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏\"','–í–∫–ª—é—á–∏—Ç–µ \"–°–ª—É–∂–±—ã –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏\"','–ù–∞–π–¥–∏—Ç–µ –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –≤—ã–±–µ—Ä–∏—Ç–µ \"–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏\"']};}return null;};const instructions=getBrowserInstructions();const mobileInstructions=getMobileSystemInstructions();if(!showPermissionPrompt){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-blue-100 rounded-full\",children:/*#__PURE__*/_jsx(MapPin,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"\\u0412\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0435 \\u0433\\u0435\\u043E\\u043B\\u043E\\u043A\\u0430\\u0446\\u0438\\u044E\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"\\u0427\\u0442\\u043E\\u0431\\u044B \\u043C\\u044B \\u043C\\u043E\\u0433\\u043B\\u0438 \\u043F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0432\\u0430\\u0448\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\\u043F\\u043E\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0438 \\u0431\\u043B\\u0438\\u0436\\u0430\\u0439\\u0448\\u0438\\u0435 \\u0442\\u0443\\u0430\\u043B\\u0435\\u0442\\u044B\"})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",onClick:()=>setShowPermissionPrompt(false),className:\"h-6 w-6\",children:/*#__PURE__*/_jsx(X,{className:\"h-4 w-4\"})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800\",children:error})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:()=>requestLocation(true),className:\"w-full\",size:\"lg\",disabled:isLoading,children:isLoading?'üìç –ó–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏...':'üìç –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é'}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 border border-gray-200 rounded-md p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:[\"\\u041A\\u0430\\u043A \\u0432\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u0433\\u0435\\u043E\\u043B\\u043E\\u043A\\u0430\\u0446\\u0438\\u044E \\u0432 \",instructions.title,\":\"]}),/*#__PURE__*/_jsx(\"ol\",{className:\"text-sm text-gray-700 space-y-1\",children:instructions.steps.map((step,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-blue-600\",children:[index+1,\".\"]}),/*#__PURE__*/_jsx(\"span\",{children:step})]},index))})]}),mobileInstructions&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-50 border border-orange-200 rounded-md p-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:[mobileInstructions.title,\":\"]}),/*#__PURE__*/_jsx(\"ol\",{className:\"text-sm text-gray-700 space-y-1\",children:mobileInstructions.steps.map((step,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-orange-600\",children:[index+1,\".\"]}),/*#__PURE__*/_jsx(\"span\",{children:step})]},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-md p-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCA1 \\u0421\\u043E\\u0432\\u0435\\u0442:\"}),\" \\u0414\\u043B\\u044F \\u043B\\u0443\\u0447\\u0448\\u0435\\u0439 \\u0442\\u043E\\u0447\\u043D\\u043E\\u0441\\u0442\\u0438 \\u0432\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u0435 GPS \\u0438 \\u0443\\u0431\\u0435\\u0434\\u0438\\u0442\\u0435\\u0441\\u044C, \\u0447\\u0442\\u043E \\u0443 \\u0432\\u0430\\u0441 \\u0435\\u0441\\u0442\\u044C \\u043F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043A \\u0438\\u043D\\u0442\\u0435\\u0440\\u043D\\u0435\\u0442\\u0443.\"]})}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setShowPermissionPrompt(false),className:\"w-full\",children:\"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C \\u0431\\u0435\\u0437 \\u0433\\u0435\\u043E\\u043B\\u043E\\u043A\\u0430\\u0446\\u0438\\u0438\"})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","MapPin","X","AlertTriangle","Button","telegramService","jsx","_jsx","jsxs","_jsxs","GeolocationHandler","_ref","onLocationUpdate","showPermissionPrompt","setShowPermissionPrompt","error","setError","isLoading","setIsLoading","hasBeenShown","setHasBeenShown","handleLocationUpdate","position","latitude","longitude","coords","isTelegramApp","notificationOccurred","handleLocationError","console","warn","message","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","showAlert","navigator","geolocation","permissions","query","name","then","result","state","requestLocation","setTimeout","catch","showModalOnError","arguments","length","undefined","options","enableHighAccuracy","timeout","maximumAge","getCurrentPosition","getBrowserInstructions","userAgent","toLowerCase","includes","title","steps","getMobileSystemInstructions","instructions","mobileInstructions","className","children","variant","size","onClick","disabled","map","step","index"],"sources":["D:/map for cur/toilet-finder-kaliningrad/frontend/src/components/GeolocationHandler.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { MapPin, X, AlertTriangle } from 'lucide-react';\nimport { Button } from './ui/button';\nimport { telegramService } from '../services/telegram';\n\ninterface GeolocationHandlerProps {\n  onLocationUpdate: (lat: number, lon: number) => void;\n}\n\nexport function GeolocationHandler({ onLocationUpdate }: GeolocationHandlerProps) {\n  const [showPermissionPrompt, setShowPermissionPrompt] = useState(false);\n  const [error, setError] = useState<string>('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasBeenShown, setHasBeenShown] = useState(false);\n\n  const handleLocationUpdate = useCallback((position: GeolocationPosition) => {\n    const { latitude, longitude } = position.coords;\n    onLocationUpdate(latitude, longitude);\n    \n    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram\n    if (telegramService.isTelegramApp()) {\n      telegramService.notificationOccurred('success');\n    }\n  }, [onLocationUpdate]);\n\n  const handleLocationError = useCallback((error: GeolocationPositionError) => {\n    console.warn('Geolocation error:', error);\n    \n    let message = '–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ';\n    \n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n        message = '–î–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–µ—â–µ–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.';\n        break;\n      case error.POSITION_UNAVAILABLE:\n        message = '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.';\n        break;\n      case error.TIMEOUT:\n        message = '–í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏—Å—Ç–µ–∫–ª–æ.';\n        break;\n    }\n    \n    if (telegramService.isTelegramApp()) {\n      telegramService.showAlert(message);\n      telegramService.notificationOccurred('error');\n    }\n  }, []);\n\n  useEffect(() => {\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏\n    if (!navigator.geolocation) {\n      setError('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é');\n      setShowPermissionPrompt(true);\n      return;\n    }\n\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ\n    if ('permissions' in navigator) {\n      navigator.permissions.query({ name: 'geolocation' }).then((result) => {\n        if (result.state === 'granted') {\n          // –ï—Å–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–∂–µ –¥–∞–Ω–æ, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –±–µ–∑ –ø–æ–∫–∞–∑–∞ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞\n          requestLocation(false);\n        } else if (result.state === 'prompt' && !hasBeenShown) {\n          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ\n          setTimeout(() => {\n            setShowPermissionPrompt(true);\n            setHasBeenShown(true);\n          }, 1500);\n        }\n      }).catch(() => {\n        // –ï—Å–ª–∏ API permissions –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥\n        if (!hasBeenShown) {\n          setTimeout(() => {\n            requestLocation(true);\n            setHasBeenShown(true);\n          }, 1500);\n        }\n      });\n    } else {\n      // –î–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤\n      if (!hasBeenShown) {\n        setTimeout(() => {\n          requestLocation(true);\n          setHasBeenShown(true);\n        }, 1500);\n      }\n    }\n  }, [hasBeenShown]);\n\n  const requestLocation = (showModalOnError: boolean = true) => {\n    if (!navigator.geolocation) {\n      setError('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é');\n      if (showModalOnError) setShowPermissionPrompt(true);\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 25000, // 25 —Å–µ–∫—É–Ω–¥ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö\n      maximumAge: 300000 // 5 –º–∏–Ω—É—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      handleLocationUpdate,\n      handleLocationError,\n      options\n    );\n  };\n\n  const getBrowserInstructions = () => {\n    const userAgent = navigator.userAgent.toLowerCase();\n    \n    if (userAgent.includes('chrome') && (userAgent.includes('mobile') || userAgent.includes('android'))) {\n      return {\n        title: 'Chrome –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º',\n        steps: [\n          '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚ãÆ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É',\n          '–í—ã–±–µ—Ä–∏—Ç–µ \"–ù–∞—Å—Ç—Ä–æ–π–∫–∏\" ‚Üí \"–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\"',\n          '–ù–∞–∂–º–∏—Ç–µ \"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–æ–≤\" ‚Üí \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"',\n          '–í–∫–ª—é—á–∏—Ç–µ \"–î–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é\"',\n          '–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø'\n        ]\n      };\n    } else if (userAgent.includes('chrome')) {\n      return {\n        title: 'Chrome –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ',\n        steps: [\n          '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ –∏–ª–∏ \"i\" —Å–ª–µ–≤–∞ –æ—Ç –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏',\n          '–í –º–µ–Ω—é \"–†–∞–∑—Ä–µ—à–µ–Ω–∏—è\" –Ω–∞–π–¥–∏—Ç–µ \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"',\n          '–í—ã–±–µ—Ä–∏—Ç–µ \"–†–∞–∑—Ä–µ—à–∏—Ç—å\"',\n          '–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É'\n        ]\n      };\n    } else if (userAgent.includes('firefox')) {\n      return {\n        title: 'Firefox',\n        steps: [\n          '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ —Å–ª–µ–≤–∞ –æ—ÇÂú∞ÂùÄ–Ω–æ–π —Å—Ç—Ä–æ–∫–∏',\n          '–í —Ä–∞–∑–¥–µ–ª–µ \"–†–∞–∑—Ä–µ—à–µ–Ω–∏—è\" –Ω–∞–π–¥–∏—Ç–µ \"–î–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é\"',\n          '–ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ \"–†–∞–∑—Ä–µ—à–∏—Ç—å\"',\n          '–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É'\n        ]\n      };\n    } else if (userAgent.includes('safari')) {\n      return {\n        title: 'Safari',\n        steps: [\n          '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ \"aA\" –∏–ª–∏ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ',\n          '–ù–∞–π–¥–∏—Ç–µ \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"',\n          '–í—ã–±–µ—Ä–∏—Ç–µ \"–†–∞–∑—Ä–µ—à–∏—Ç—å\"',\n          '–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É'\n        ]\n      };\n    } else if (userAgent.includes('edg')) {\n      return {\n        title: 'Edge',\n        steps: [\n          '–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É –∑–∞–º–∫–∞ —Å–ª–µ–≤–∞ –æ—Ç –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏',\n          '–í –º–µ–Ω—é \"–†–∞–∑—Ä–µ—à–µ–Ω–∏—è\" –Ω–∞–π–¥–∏—Ç–µ \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"',\n          '–í—ã–±–µ—Ä–∏—Ç–µ \"–†–∞–∑—Ä–µ—à–∏—Ç—å\"',\n          '–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É'\n        ]\n      };\n    } else {\n      return {\n        title: '–í–∞—à –±—Ä–∞—É–∑–µ—Ä',\n        steps: [\n          '–ù–∞–π–¥–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ',\n          '–í–∫–ª—é—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏',\n          '–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É'\n        ]\n      };\n    }\n  };\n\n  const getMobileSystemInstructions = () => {\n    const userAgent = navigator.userAgent.toLowerCase();\n    \n    if (userAgent.includes('android')) {\n      return {\n        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Android',\n        steps: [\n          '–û—Ç–∫—Ä–æ–π—Ç–µ \"–ù–∞—Å—Ç—Ä–æ–π–∫–∏\" ‚Üí \"–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥en—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å\"',\n          '–í—ã–±–µ—Ä–∏—Ç–µ \"–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\" (–∏–ª–∏ \"–î–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é\")',\n          '–í–∫–ª—é—á–∏—Ç–µ \"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ\"',\n          '–ù–∞–π–¥–∏—Ç–µ –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø'\n        ]\n      };\n    } else if (userAgent.includes('iphone') || userAgent.includes('ipad') || userAgent.includes('mac')) {\n      return {\n        title: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏ iOS',\n        steps: [\n          '–û—Ç–∫—Ä–æ–π—Ç–µ \"–ù–∞—Å—Ç—Ä–æ–π–∫–∏\" ‚Üí \"–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\"',\n          '–í—ã–±–µ—Ä–∏—Ç–µ \"–°–ª—É–∂–±—ã –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏\"',\n          '–í–∫–ª—é—á–∏—Ç–µ \"–°–ª—É–∂–±—ã –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏\"',\n          '–ù–∞–π–¥–∏—Ç–µ –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –≤—ã–±–µ—Ä–∏—Ç–µ \"–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏\"'\n        ]\n      };\n    }\n    return null;\n  };\n\n  const instructions = getBrowserInstructions();\n  const mobileInstructions = getMobileSystemInstructions();\n\n  if (!showPermissionPrompt) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex items-start justify-between mb-4\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 bg-blue-100 rounded-full\">\n              <MapPin className=\"h-6 w-6 text-blue-600\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                –í–∫–ª—é—á–∏—Ç–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é\n              </h3>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                –ß—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ –±–ª–∏–∂–∞–π—à–∏–µ —Ç—É–∞–ª–µ—Ç—ã\n              </p>\n            </div>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setShowPermissionPrompt(false)}\n            className=\"h-6 w-6\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        </div>\n\n        {error && (\n          <div className=\"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md\">\n            <div className=\"flex items-start gap-2\">\n              <AlertTriangle className=\"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0\" />\n              <p className=\"text-sm text-yellow-800\">{error}</p>\n            </div>\n          </div>\n        )}\n\n        <div className=\"space-y-4\">\n          <Button\n            onClick={() => requestLocation(true)}\n            className=\"w-full\"\n            size=\"lg\"\n            disabled={isLoading}\n          >\n            {isLoading ? 'üìç –ó–∞–ø—Ä–æ—Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏...' : 'üìç –†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é'}\n          </Button>\n\n          <div className=\"bg-gray-50 border border-gray-200 rounded-md p-4\">\n            <h4 className=\"font-medium text-gray-900 mb-2\">\n              –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –≤ {instructions.title}:\n            </h4>\n            <ol className=\"text-sm text-gray-700 space-y-1\">\n              {instructions.steps.map((step, index) => (\n                <li key={index} className=\"flex items-start gap-2\">\n                  <span className=\"font-medium text-blue-600\">{index + 1}.</span>\n                  <span>{step}</span>\n                </li>\n              ))}\n            </ol>\n          </div>\n\n          {mobileInstructions && (\n            <div className=\"bg-orange-50 border border-orange-200 rounded-md p-4\">\n              <h4 className=\"font-medium text-gray-900 mb-2\">\n                {mobileInstructions.title}:\n              </h4>\n              <ol className=\"text-sm text-gray-700 space-y-1\">\n                {mobileInstructions.steps.map((step, index) => (\n                  <li key={index} className=\"flex items-start gap-2\">\n                    <span className=\"font-medium text-orange-600\">{index + 1}.</span>\n                    <span>{step}</span>\n                  </li>\n                ))}\n              </ol>\n            </div>\n          )}\n\n          <div className=\"bg-blue-50 border border-blue-200 rounded-md p-3\">\n            <p className=\"text-sm text-blue-800\">\n              <strong>üí° –°–æ–≤–µ—Ç:</strong> –î–ª—è –ª—É—á—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤–∫–ª—é—á–∏—Ç–µ GPS –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.\n            </p>\n          </div>\n\n          <Button\n            variant=\"outline\"\n            onClick={() => setShowPermissionPrompt(false)}\n            className=\"w-full\"\n          >\n            –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}